# ğŸ“˜ MyBatis

## 1. í•™ìŠµ ìš”ì•½

- MyBatis XML ê¸°ë°˜ì˜ í”„ë¡œê·¸ë¨ êµ¬í˜„
- ê³„ì¸µ êµ¬ì¡°ë¥¼ í†µí•´ ë©”ë‰´ ê´€ë¦¬ ê¸°ëŠ¥ì˜ íë¦„ ì´í•´
- ê° ë ˆì´ì–´ë³„ ì—­í• ê³¼ í´ë˜ìŠ¤ ì‘ì„± ìˆœì„œ ìŠµë“

---

## 2. ì „ì²´ êµ¬ì¡° ë° ìš”ì²­ íë¦„

[ì‚¬ìš©ì]
â†’ Application.java â†’ MenuController â†’ MenuService â†’ MenuDAO â†’ MyBatis(SqlSession) â†’ DB


---

## 3. ê³„ì¸µë³„ í´ë˜ìŠ¤ ì—­í• 

| ê³„ì¸µ       | í´ë˜ìŠ¤ / íŒŒì¼              | ì—­í•  ìš”ì•½ |
|------------|----------------------------|-----------|
| UI(í´ë¼ì´ì–¸íŠ¸)        | `Application.java`         | ì‚¬ìš©ì ì…ë ¥ ë° ë©”ë‰´ ë¶„ê¸° |
| Controller | `MenuController.java`      | ì…ë ¥ ì²˜ë¦¬ â†’ ì„œë¹„ìŠ¤ í˜¸ì¶œ â†’ ê²°ê³¼ ì „ë‹¬ |
| Service    | `MenuService.java`         | DAO í˜¸ì¶œ ë° íŠ¸ëœì­ì…˜ ê´€ë¦¬ (commit/rollback) |
| DAO        | `MenuDAO.java`             | Mapper(XML) í˜¸ì¶œ ë° SQL ì‹¤í–‰ |
| MyBatis    | `Template.java`, `mybatis-config.xml` | SqlSession ìƒì„± ë° ë°˜í™˜ |
| Mapper     | `menu-mapper.xml`          | SQL ì •ì˜ ë° DTO ë§¤í•‘ |
| DTO        | `MenuDTO.java`             | DB â†” Java ë°ì´í„° ëª¨ë¸ |
| ì¶œë ¥ ì²˜ë¦¬   | `PrintResult.java`         | ì‹¤í–‰ ê²°ê³¼ ì¶œë ¥ ë©”ì‹œì§€ ê´€ë¦¬ |

---

## 4. í´ë˜ìŠ¤ ì‘ì„± ìˆœì„œ

0. í”„ë¡œì íŠ¸ ì„¤ì •
```
build.gradle íŒŒì¼ì— ì˜ì¡´ì„± ì¶”ê°€

dependencies {
    implementation 'mysql:mysql-connector-java:8.0.33'
    implementation 'org.mybatis:mybatis:3.5.6'
}
```

1. **DTO (`MenuDTO.java`)**
   - í•„ë“œ: `code`, `name`, `price`, `categoryCode`, `orderableStatus` ë“±
   - ê¸°ë³¸ ìƒì„±ì, getter/setter ì‘ì„±

2. **Mapper XML (`menu-mapper.xml`)**
   - `<resultMap>`, `<select>`, `<insert>`, `<update>`, `<delete>` ì‘ì„±
   - `namespace="MenuMapper"` ì§€ì •

3. **MyBatis ì„¤ì • (`mybatis-config.xml`)**
   - DB ì—°ê²° ì„¤ì •
   - `<mappers>` ë“±ë¡

4. **Template (`Template.java`)**
   - SqlSessionFactory ìƒì„± ë° ë°˜í™˜ ë©”ì„œë“œ

5. **DAO (`MenuDAO.java`)**
   - SqlSessionì„ í†µí•´ SQL Mapper í˜¸ì¶œ

6. **Service (`MenuService.java`)**
   - DAO í˜¸ì¶œ + íŠ¸ëœì­ì…˜ ì²˜ë¦¬ (`commit`, `rollback`)

7. **Controller (`MenuController.java`)**
   - ì‚¬ìš©ì ìš”ì²­ ì²˜ë¦¬, Service í˜¸ì¶œ, ê²°ê³¼ ì „ë‹¬

8. **Application (`Application.java`)**
   - Scannerë¡œ ì‚¬ìš©ì ì…ë ¥ ë°›ê³  ë¶„ê¸° ì²˜ë¦¬

---

## 5. ê¸°ë³¸ ë™ì‘ ì˜ˆì‹œ (ë©”ë‰´ ì‚­ì œ íë¦„)

1. ì‚¬ìš©ì ìˆ«ì ì…ë ¥ (ì˜ˆ: `5` â†’ ë©”ë‰´ ì‚­ì œ)
2. `Application` â†’ `Controller` í˜¸ì¶œ
3. `Controller` â†’ `Service` í˜¸ì¶œ
4. `Service` â†’ `DAO` í˜¸ì¶œ
5. `DAO` â†’ Mapper(XML)ì—ì„œ SQL ì‹¤í–‰
6. ê²°ê³¼ ë°˜í™˜ (`int result`)
7. `Service` â†’ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ í›„ SqlSession ì¢…ë£Œ
8. `Controller` â†’ `PrintResult`ë¡œ ì¶œë ¥

---

## 6. ì£¼ì˜ì‚¬í•­

- XML ë§¤í¼ ê²½ë¡œì™€ `mybatis-config.xml` ë‚´ ë“±ë¡ ê²½ë¡œ ì •í™•íˆ ì¼ì¹˜ì‹œí‚¬ ê²ƒ
- DTO í•„ë“œëª… = DB ì»¬ëŸ¼ëª… = Mapper XML ë‚´ ì»¬ëŸ¼ëª… ì¼ì¹˜
- íŠ¸ëœì­ì…˜ì„ ì •í™•íˆ ì²˜ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ ë°ì´í„° ë¬´ê²°ì„± ì˜¤ë¥˜ ë°œìƒ
- SQL ë° ë§¤í•‘ ì˜¤ë¥˜ ì‹œ ì½˜ì†” ë¡œê·¸(ì˜ˆì™¸ ë©”ì‹œì§€) í™•ì¸

---

## 7. í•™ìŠµ ì„±ê³¼

- MyBatisë¡œ SQLê³¼ Java ì½”ë“œ ë¶„ë¦¬í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ ìš©ì´
- ëª…í™•í•œ ê³„ì¸µ êµ¬ì¡° ë•ë¶„ì— ì¬ì‚¬ìš©ì„± ë° í™•ì¥ì„± í–¥ìƒ
- ì‹¤ìŠµì„ í†µí•´ MVC íŒ¨í„´ êµ¬ì¡° ê°ê° ìµí˜
